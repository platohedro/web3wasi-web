const E="modulepreload",w=function(h){return"/"+h},g={},y=function(u,c,a){let m=Promise.resolve();if(c&&c.length>0){document.getElementsByTagName("link");const n=document.querySelector("meta[property=csp-nonce]"),t=n?.nonce||n?.getAttribute("nonce");m=Promise.allSettled(c.map(o=>{if(o=w(o),o in g)return;g[o]=!0;const d=o.endsWith(".css"),f=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${f}`))return;const s=document.createElement("link");if(s.rel=d?"stylesheet":E,d||(s.as="script"),s.crossOrigin="",s.href=o,t&&s.setAttribute("nonce",t),document.head.appendChild(s),d)return new Promise((e,r)=>{s.addEventListener("load",e),s.addEventListener("error",()=>r(new Error(`Unable to preload CSS for ${o}`)))})}))}function l(n){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=n,window.dispatchEvent(t),!t.defaultPrevented)throw n}return m.then(n=>{for(const t of n||[])t.status==="rejected"&&l(t.reason);return u().catch(l)})};class v extends HTMLElement{constructor(){super();const u=this.querySelector("button[data-open-modal]"),c=this.querySelector("button[data-close-modal]"),a=this.querySelector("dialog"),m=this.querySelector(".dialog-frame"),l=e=>{("href"in(e.target||{})||document.body.contains(e.target)&&!m.contains(e.target))&&t()},n=e=>{a.showModal(),document.body.toggleAttribute("data-search-modal-open",!0),this.querySelector("input")?.focus(),e?.stopPropagation(),window.addEventListener("click",l)},t=()=>a.close();u.addEventListener("click",n),u.disabled=!1,c.addEventListener("click",t),a.addEventListener("close",()=>{document.body.toggleAttribute("data-search-modal-open",!1),window.removeEventListener("click",l)}),window.addEventListener("keydown",e=>{const r=document.activeElement instanceof HTMLElement&&(["input","select","textarea"].includes(document.activeElement.tagName.toLowerCase())||document.activeElement.isContentEditable);(e.metaKey===!0||e.ctrlKey===!0)&&e.key==="k"?(a.open?t():n(),e.preventDefault()):e.key==="/"&&!a.open&&!r&&(n(),e.preventDefault())});let o={};try{o=JSON.parse(this.dataset.translations||"{}")}catch{}const s=this.dataset.stripTrailingSlash!==void 0?e=>e.replace(/(.)\/(#.*)?$/,"$1$2"):e=>e;window.addEventListener("DOMContentLoaded",()=>{(window.requestIdleCallback||(r=>setTimeout(r,1)))(async()=>{const{PagefindUI:r}=await y(async()=>{const{PagefindUI:i}=await import("./ui-core.DyWzl_uJ.js");return{PagefindUI:i}},[]);new r({element:"#starlight__search",baseUrl:"/",bundlePath:"/".replace(/\/$/,"")+"/pagefind/",showImages:!1,translations:o,showSubResults:!0,processResult:i=>{i.url=s(i.url),i.sub_results=i.sub_results.map(p=>(p.url=s(p.url),p))}})})})}}customElements.define("site-search",v);export{y as _};
